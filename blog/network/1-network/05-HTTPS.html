<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端HTTPS</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="前端HTTPS">
    <meta name="keywords" content="前端HTTPS发展历程,HTTPS">
    <meta name="author" content="liam">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="preload" href="/assets/css/0.styles.f707576d.css" as="style"><link rel="preload" href="/assets/js/app.76936a95.js" as="script"><link rel="preload" href="/assets/js/2.cfb1ba91.js" as="script"><link rel="preload" href="/assets/js/27.ba7eb5d6.js" as="script"><link rel="prefetch" href="/assets/js/10.4653acc3.js"><link rel="prefetch" href="/assets/js/11.be92f739.js"><link rel="prefetch" href="/assets/js/12.366ef5ef.js"><link rel="prefetch" href="/assets/js/13.96ad59b4.js"><link rel="prefetch" href="/assets/js/14.14aa169b.js"><link rel="prefetch" href="/assets/js/15.139be24c.js"><link rel="prefetch" href="/assets/js/16.f17e8d8f.js"><link rel="prefetch" href="/assets/js/17.3bcdeb02.js"><link rel="prefetch" href="/assets/js/18.5f449237.js"><link rel="prefetch" href="/assets/js/19.ffb3df9c.js"><link rel="prefetch" href="/assets/js/20.8df82486.js"><link rel="prefetch" href="/assets/js/21.c5e36f75.js"><link rel="prefetch" href="/assets/js/22.c88a38ec.js"><link rel="prefetch" href="/assets/js/23.a68d4e6f.js"><link rel="prefetch" href="/assets/js/24.7f4b7c92.js"><link rel="prefetch" href="/assets/js/25.fe9825f2.js"><link rel="prefetch" href="/assets/js/26.c895d4fb.js"><link rel="prefetch" href="/assets/js/28.495542fd.js"><link rel="prefetch" href="/assets/js/29.5bcd5cb1.js"><link rel="prefetch" href="/assets/js/3.85bfe3d7.js"><link rel="prefetch" href="/assets/js/30.81fd2d5c.js"><link rel="prefetch" href="/assets/js/31.7618d52a.js"><link rel="prefetch" href="/assets/js/32.dd40b166.js"><link rel="prefetch" href="/assets/js/33.86f5b939.js"><link rel="prefetch" href="/assets/js/34.2c3c3e66.js"><link rel="prefetch" href="/assets/js/35.792302c3.js"><link rel="prefetch" href="/assets/js/36.af434f35.js"><link rel="prefetch" href="/assets/js/37.cd4125bf.js"><link rel="prefetch" href="/assets/js/38.4bbdfc2a.js"><link rel="prefetch" href="/assets/js/39.4ec672cd.js"><link rel="prefetch" href="/assets/js/4.bd0ac780.js"><link rel="prefetch" href="/assets/js/40.6104256b.js"><link rel="prefetch" href="/assets/js/41.f9d63419.js"><link rel="prefetch" href="/assets/js/42.bd46a461.js"><link rel="prefetch" href="/assets/js/43.b2e5ab1d.js"><link rel="prefetch" href="/assets/js/44.1422d856.js"><link rel="prefetch" href="/assets/js/45.17716bdf.js"><link rel="prefetch" href="/assets/js/46.5a8c7673.js"><link rel="prefetch" href="/assets/js/47.4a7664ed.js"><link rel="prefetch" href="/assets/js/48.c809aa27.js"><link rel="prefetch" href="/assets/js/49.222fe226.js"><link rel="prefetch" href="/assets/js/5.b6df23a7.js"><link rel="prefetch" href="/assets/js/50.af1bf195.js"><link rel="prefetch" href="/assets/js/51.02125055.js"><link rel="prefetch" href="/assets/js/52.3c606cdb.js"><link rel="prefetch" href="/assets/js/53.437c0e04.js"><link rel="prefetch" href="/assets/js/54.879ee566.js"><link rel="prefetch" href="/assets/js/55.b931f0de.js"><link rel="prefetch" href="/assets/js/56.48e7f4aa.js"><link rel="prefetch" href="/assets/js/57.0cc01da0.js"><link rel="prefetch" href="/assets/js/58.83b6fdd1.js"><link rel="prefetch" href="/assets/js/59.dad8bbb7.js"><link rel="prefetch" href="/assets/js/6.a9839fc4.js"><link rel="prefetch" href="/assets/js/60.ca515401.js"><link rel="prefetch" href="/assets/js/61.5c8a06b3.js"><link rel="prefetch" href="/assets/js/62.a98bf649.js"><link rel="prefetch" href="/assets/js/63.71a2cd52.js"><link rel="prefetch" href="/assets/js/64.35c80339.js"><link rel="prefetch" href="/assets/js/65.8d45f482.js"><link rel="prefetch" href="/assets/js/66.e7ac0734.js"><link rel="prefetch" href="/assets/js/7.77ac725b.js"><link rel="prefetch" href="/assets/js/8.9e318401.js"><link rel="prefetch" href="/assets/js/9.f423a0b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f707576d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header-logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/frame/" class="nav-link">
  Frame
</a></div><div class="nav-item"><a href="/network/" class="nav-link router-link-active">
  Network
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  Other
</a></div><div class="nav-item"><a href="https://github.com/huoyuhao/myArticle" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/frame/" class="nav-link">
  Frame
</a></div><div class="nav-item"><a href="/network/" class="nav-link router-link-active">
  Network
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  Other
</a></div><div class="nav-item"><a href="https://github.com/huoyuhao/myArticle" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>browser</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>network</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/network/1-network/01-TCP与UDP协议.html" class="sidebar-link">TCP与UDP协议</a></li><li><a href="/network/1-network/02-TCP三次握手和四次挥手.html" class="sidebar-link">TCP三次握手和四次挥手</a></li><li><a href="/network/1-network/03-常见HTTP状态码.html" class="sidebar-link">常见HTTP状态码</a></li><li><a href="/network/1-network/04-HTTP发展历程.html" class="sidebar-link">HTTP发展历程</a></li><li><a href="/network/1-network/05-HTTPS.html" aria-current="page" class="active sidebar-link">HTTPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#ssl协议的握手过程" class="sidebar-link">SSL协议的握手过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#客户端发送客户端问候clienthello" class="sidebar-link">客户端发送客户端问候ClientHello</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#服务端返回发送服务器问候信息serverhello" class="sidebar-link">服务端返回发送服务器问候信息ServerHello</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#验证数字证书的有效性后，客户端回应，其中内容" class="sidebar-link">验证数字证书的有效性后，客户端回应，其中内容</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#服务器最后回应，其中内容" class="sidebar-link">服务器最后回应，其中内容</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#握手阶段有三点需要注意" class="sidebar-link">握手阶段有三点需要注意</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#https如何防范中间人攻击" class="sidebar-link">HTTPS如何防范中间人攻击</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#如何防止冒充服务端" class="sidebar-link">如何防止冒充服务端</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#如何确认数字证书是可信的" class="sidebar-link">如何确认数字证书是可信的</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#http和https区别" class="sidebar-link">HTTP和HTTPS区别</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#https缺点" class="sidebar-link">HTTPS缺点</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#tls-对网络请求速度的影响" class="sidebar-link">TLS 对网络请求速度的影响</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#https面临问题" class="sidebar-link">HTTPS面临问题</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#https能防御csrf吗" class="sidebar-link">https能防御csrf吗</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#参考资料" class="sidebar-link">参考资料</a></li><li class="sidebar-sub-header"><a href="/network/1-network/05-HTTPS.html#稍后了解更多内容" class="sidebar-link">稍后了解更多内容</a></li></ul></li><li><a href="/network/1-network/06-GET与POST.html" class="sidebar-link">GET与POST</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端https"><a href="#前端https" class="header-anchor">#</a> 前端HTTPS</h1> <p><code>超文本传输安全协议 (HTTPS, Hypertext Transfer Protocol Secure)</code> 常称为HTTP over TLS，HTTP over SSL或HTTP Secure, 是一种使用计算器网络进行安全通信的传输协议。HTTPS经由HTTP进行通信，但利用SSL/TLS来加密数据包。HTTPS开发的主要目的，是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。这个协议由网景公司（Netscape）在1994年首次提出，随后扩展到互联网上。</p> <p><code>传输层安全性协议 (TLS, Transport Layer Security)</code>，及其前身 安全套接层(SSL,Secure Sockets Layer)是一种安全协议，目的是为互联网通信，提供安全及数据完整性保障。网景公司推出HTTPS协议时，以SSL进行加密，这是SSL的起源。IETF将SSL进行标准化，1999年公布第一版TLS标准文件。随后又公布RFC 5246 （2008年8月）与 RFC 6176 （2011年3月）。TLS/SSL 不仅为浏览器提供支持，在邮箱、即时通信、VoIP、网络传真等应用程序中也得到广泛应用。</p> <p>由于SSL/TSL在TCP与HTTP协议之间，所以需要先进性TCP连接</p> <h2 id="ssl协议的握手过程"><a href="#ssl协议的握手过程" class="header-anchor">#</a> SSL协议的握手过程</h2> <h3 id="客户端发送客户端问候clienthello"><a href="#客户端发送客户端问候clienthello" class="header-anchor">#</a> 客户端发送客户端问候ClientHello</h3> <ul><li><p>支持的协议版本，比如TLS 1.0版</p></li> <li><p>一个客户端生成的随机数 n1（Client random），稍后用于生成&quot;对话密钥&quot;</p></li> <li><p>客户端会给服务器发送自己已经知道的密码套件列表，这是由客户按优先级排列的，但完全由服务器来决定发送与否</p></li></ul> <h3 id="服务端返回发送服务器问候信息serverhello"><a href="#服务端返回发送服务器问候信息serverhello" class="header-anchor">#</a> 服务端返回发送服务器问候信息ServerHello</h3> <ul><li><p>确认使用的加密通信协议版本，比如TLS 1.0版本。如果浏览器与服务器支持的版本不一致，服务器关闭加密通信</p></li> <li><p>一个服务器生成的随机数 n2（Server random），稍后用于生成&quot;对话密钥&quot;</p></li> <li><p>确认使用的加密方法，服务器会从客户端发送的加密套件列表中选出一个加密套件</p></li> <li><p>包含公钥的数字证书</p></li></ul> <h4 id="至此客户端和服务端都拥有了两个随机数（n1-n2），这两个随机数会在后续生成对称秘钥时用到"><a href="#至此客户端和服务端都拥有了两个随机数（n1-n2），这两个随机数会在后续生成对称秘钥时用到" class="header-anchor">#</a> 至此客户端和服务端都拥有了两个随机数（n1 + n2），这两个随机数会在后续生成对称秘钥时用到</h4> <h3 id="验证数字证书的有效性后，客户端回应，其中内容"><a href="#验证数字证书的有效性后，客户端回应，其中内容" class="header-anchor">#</a> 验证数字证书的有效性后，客户端回应，其中内容</h3> <ul><li><p>一个随机数 n3。该随机数用数字证书公钥加密，防止被窃听</p></li> <li><p>编码改变通知，表示随后的信息都将用双方商定的加密方法和密钥发送</p></li> <li><p>客户端握手结束通知，表示客户端的握手阶段已经结束。这一项同时也是前面发送的所有内容的hash值，用来供服务器校验</p></li> <li><p>此外，如果第二步中，服务器要求客户端证书，客户端会在这一步发送证书及相关信息</p></li></ul> <h3 id="服务器最后回应，其中内容"><a href="#服务器最后回应，其中内容" class="header-anchor">#</a> 服务器最后回应，其中内容</h3> <ul><li><p>编码改变通知，表示随后的信息都将用双方商定的加密方法和密钥发送</p></li> <li><p>服务器握手结束通知，表示服务器的握手阶段已经结束</p></li></ul> <p>此时客户端和服务端都有随机数n1，n2，n3三个随机数，客户端和服务端用商定的算法利用3个随机数生成一个对话秘钥（session key），随后的通信就用这个秘钥进行加密解密，保证通信过程不被别人监听或者窜改</p> <h2 id="握手阶段有三点需要注意"><a href="#握手阶段有三点需要注意" class="header-anchor">#</a> 握手阶段有三点需要注意</h2> <ul><li><p>生成对话密钥一共需要三个随机数</p></li> <li><p>握手之后的对话使用&quot;对话密钥&quot;加密（对称加密），服务器的公钥和私钥只用于加密和解密&quot;对话密钥&quot;（非对称加密），无其他作用</p></li> <li><p>服务器公钥放在服务器的数字证书之中</p></li></ul> <h2 id="https如何防范中间人攻击"><a href="#https如何防范中间人攻击" class="header-anchor">#</a> HTTPS如何防范中间人攻击</h2> <p>中间人攻击（Man-in-the-middle attack，缩写：<code>MITM</code>）是指攻击者与通讯的两端分别建立独立的联系，并交换其所收到的数据，使通讯的两端认为他们正在通过一个私密的连接与对方直接对话，但事实上整个会话都被攻击者完全控制。</p> <h3 id="如何防止冒充服务端"><a href="#如何防止冒充服务端" class="header-anchor">#</a> 如何防止冒充服务端</h3> <p>服务端有权威机构签名的数字证书，证书中带有公钥</p> <ul><li><p>窜改公钥会破坏数字证书，客户端验证证书有效性便可确认</p></li> <li><p>就算窃取到证书后伪装成服务端与用户通信，没有私钥就无法解密出随机数n3，也就无法利用n1，n2，n3生成对话秘钥，没有对话秘钥也就无法解密用户发送的数据包。</p></li></ul> <h3 id="如何确认数字证书是可信的"><a href="#如何确认数字证书是可信的" class="header-anchor">#</a> 如何确认数字证书是可信的</h3> <p>CA机构是可信的，CA本身也包含一个非对称密钥对，私钥用于“签发”的数字证书，公钥发布出去用于验证数字证书。CA使用非对称密钥配合HASH算法保证数字证书可信且不可篡改。CA将使用者信息、站点公钥、有效期等关键信息打包做HASH运算，再将HASH运算结果用CA私钥签名生成指纹。然后将以上全部信息打包成数字证书。黑客没有私钥不可以伪造证书签名，且证书的内容如果被修改，HASH结果就会改变。因此黑客不可伪造或者篡改证书，有效的数字证书是可信的</p> <h4 id="浏览器怎么知道ca是可信的"><a href="#浏览器怎么知道ca是可信的" class="header-anchor">#</a> 浏览器怎么知道CA是可信的</h4> <p>浏览器主要依据客户端操作系统保存的根证书列表判断CA的权威性。如下图，在Windows操作系统中，这个列表放在“受信任的根证书颁发机构存储区”中，这个列表实际上是CA机构的根证书集合，根证书包含CA机构的信息和公钥。只要是这个列表中的CA签发的证书，浏览器就认为可信。微软会动态维护根证书列表，用户需要管理员权限才能向这个列表中加入CA证书</p> <p><img src="/img/HTTPS%E7%AB%99%E7%82%B9%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B.jpg" alt="HTTPS站点认证过程"></p> <h2 id="http和https区别"><a href="#http和https区别" class="header-anchor">#</a> HTTP和HTTPS区别</h2> <ul><li><p>HTTP 是明文传输，HTTPS 通过 SSL\TLS 进行了加密</p></li> <li><p>HTTP 的端口号是 80，HTTPS 是 443</p></li> <li><p>HTTPS 需要到 CA 申请证书，一般免费证书很少，需要交费</p></li> <li><p>HTTP 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全</p></li></ul> <h2 id="https缺点"><a href="#https缺点" class="header-anchor">#</a> HTTPS缺点</h2> <ul><li><p>HTTPS协议握手阶段比较费时，会使页面的加载时间延长近50%，增加10%到20%的耗电</p></li> <li><p>https连接缓存不如http高效，如果是大流量网站，则会造成流量成本太高</p></li> <li><p>https连接服务器端资源占用高很多，支持访客稍多的网站需要投入更大的成本，如果全部采用https，基于大部分计算资源闲置的假设的VPS的平均成本会上去</p></li> <li><p>SSL证书需要钱，功能越强大的证书费用越高，个人网站、小网站没有必要一般不会用</p></li> <li><p>SSL证书通常需要绑定IP，不能再同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗(SSL有扩展可以部分解决这个问题，但是比较麻烦，而且要求浏览器、操作系统支持，Windows XP就不支持这个扩展，考虑到XP的装机量，这个特性几乎没用)</p></li></ul> <h2 id="tls-对网络请求速度的影响"><a href="#tls-对网络请求速度的影响" class="header-anchor">#</a> TLS 对网络请求速度的影响</h2> <p>由于部署了 HTTPS，传输层增加了 TLS，对一个完成的请求耗时又会多增加一些。具体会增加几个 RTT 呢</p> <p>先来看看一个请求从零开始，完整的需要多少个 RTT。假设访问一个 HTTPS 网站，用户从 HTTP 开始访问，到收到第一个 HTTPS 的 Response，大概需要经历一下几个步骤(以目前最主流的 TLS 1.2 为例)：</p> <table><thead><tr><th>id</th> <th>流程</th> <th>消耗时间</th></tr></thead> <tbody><tr><td>1</td> <td>DNS 解析网站域名</td> <td>1-RTT</td></tr> <tr><td>2</td> <td>访问 HTTP 网页 TCP 握手</td> <td>1-RTT</td></tr> <tr><td>3</td> <td>HTTPS 重定向 302</td> <td>1-RTT</td></tr> <tr><td>4</td> <td>访问 HTTPS 网页 TCP 握手</td> <td>1-RTT</td></tr> <tr><td>5</td> <td>TLS 握手第一阶段 Say Hello</td> <td>1-RTT</td></tr> <tr><td>6</td> <td>【证书校验】CA 站点的 DNS 解析</td> <td>1-RTT</td></tr> <tr><td>7</td> <td>【证书校验】CA 站点的 TCP 握手</td> <td>1-RTT</td></tr> <tr><td>8</td> <td>【证书校验】请求 OCSP 验证</td> <td>1-RTT</td></tr> <tr><td>9</td> <td>TLS 握手第二阶段 加密</td> <td>1-RTT</td></tr> <tr><td>10</td> <td>第一个 HTTPS 请求</td> <td>1-RTT</td></tr></tbody></table> <p>在上面这些步骤中，1、10 肯定无法省去，6、7、8 如果浏览器本地有缓存，是可选的。将剩下的画在流程图上，见下图</p> <p><img src="/img/HTTPS%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B.png" alt="HTTPS握手过程"></p> <h2 id="https面临问题"><a href="#https面临问题" class="header-anchor">#</a> HTTPS面临问题</h2> <ul><li><p>HTTPS 多次握手，会一定程度上降低用户访问速度</p></li> <li><p>网站改用 HTTPS 以后，由 HTTP 跳转到 HTTPS 的方式增加了用户访问耗时（多数网站采用 301、302 跳转）</p></li> <li><p>HTTPS 涉及到的安全算法会消耗 CPU 资源，需要增加大量机器（HTTPS 访问过程需要加解密）</p></li> <li><p>SSL 证书费用较很高，以及其在服务器上的部署、更新维护非常繁琐</p></li></ul> <h2 id="https能防御csrf吗"><a href="#https能防御csrf吗" class="header-anchor">#</a> https能防御csrf吗</h2> <p>不能
https是保证你和服务器之间传输的所有内容都是加密的，而且几乎不会被破解。</p> <p>csrf是夸站请求伪造，比如你访问了存在css漏洞的网站，并且登录了，那么你的cookie会被css的攻击代码发送到攻击者的网站，攻击者获得了你的cookie之后，就可以用你的身份向你正在访问的网站发送请求了，这些请求就是伪造的。因为不是你发送的请求，是攻击者借用你的身份发送的。</p> <p>https只管加密，无法防止你的cookie被盗。</p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <p><a href="https://blog.wandoer.com/note/https-ssl-tls-%E5%8D%8F%E8%AE%AE-tls-%E6%8F%A1%E6%89%8B%E5%8D%8F%E8%AE%AE.htm" target="_blank" rel="noopener noreferrer">浅析 HTTPS (SSL/TLS) 握手协议<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://halfrost.com/https_tls1-2_handshake/" target="_blank" rel="noopener noreferrer">HTTPS 温故知新（三） —— 直观感受 TLS 握手流程(上)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="稍后了解更多内容"><a href="#稍后了解更多内容" class="header-anchor">#</a> 稍后了解更多内容</h2> <ul><li>SSL密钥交换</li> <li>SSL重新握手</li> <li>证书验证、获取安装</li> <li>证书校验原理</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/28/2022, 4:03:33 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/network/1-network/04-HTTP发展历程.html" class="prev">
        HTTP发展历程
      </a></span> <span class="next"><a href="/network/1-network/06-GET与POST.html">
        GET与POST
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.76936a95.js" defer></script><script src="/assets/js/2.cfb1ba91.js" defer></script><script src="/assets/js/27.ba7eb5d6.js" defer></script>
  </body>
</html>
